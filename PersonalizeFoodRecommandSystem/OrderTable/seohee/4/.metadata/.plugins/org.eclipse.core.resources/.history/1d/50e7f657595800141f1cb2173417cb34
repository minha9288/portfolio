package view;

import java.util.ArrayList;

import org.mt4j.AbstractMTApplication;
import org.mt4j.components.MTComponent;
import org.mt4j.components.visibleComponents.widgets.buttons.MTImageButton;
import org.mt4j.input.inputProcessors.IGestureEventListener;
import org.mt4j.input.inputProcessors.MTGestureEvent;
import org.mt4j.input.inputProcessors.componentProcessors.tapProcessor.TapEvent;
import org.mt4j.input.inputProcessors.componentProcessors.tapProcessor.TapProcessor;
import org.mt4j.sceneManagement.AbstractScene;
import org.mt4j.util.MTColor;
import org.mt4j.util.camera.MTCamera;
import org.mt4j.util.math.ToolsMath;
import org.mt4j.util.math.Vector3D;

import processing.core.PImage;

public class first extends AbstractScene {
	
	private AbstractMTApplication app;
	MTComponent topLayer;
	
	MTImageButton menu1Img;
	
	public first(AbstractMTApplication mtAppl, String name) {
		super(mtAppl, name);
		this.app = mtAppl;
		
		topLayer = new MTComponent(app, "top layer group", new MTCamera(app));
		
		//Load from classpath
				PImage keyboardImg = app.loadImage("advanced" + AbstractMTApplication.separator + "flickrMT"+ AbstractMTApplication.separator + "data"+ AbstractMTApplication.separator 
						+ "keyb128.png");
				
				//final MTImageButton keyboardButton = new MTImageButton(app, keyboardImg);
				final MTImageButton keyboardButton = new MTImageButton(app, app.loadImage("C:\\Users\\±è¼­Èñ\\Pictures\\2.PNG"));
				keyboardButton.setFillColor(new MTColor(255,255,255,200));
				keyboardButton.setName("KeyboardButton");
				keyboardButton.setNoStroke(true);
				keyboardButton.translateGlobal(new Vector3D(100, 300));
				topLayer.addChild(keyboardButton);	
				
				keyboardButton.addGestureListener(TapProcessor.class, new IGestureEventListener() {
					@Override
					public boolean processGestureEvent(MTGestureEvent ge) {
						TapEvent te = (TapEvent)ge;
						switch (te.getTapID()) {
						case TapEvent.TAPPED:
									
							final MTImageButton plusButton = new MTImageButton(app, app.loadImage("C:\\Users\\±è¼­Èñ\\Pictures\\3.PNG"));
							plusButton.setFillColor(new MTColor(255,255,255,200));
							plusButton.setName("KeyboardButton");
							plusButton.setNoStroke(true);
							plusButton.translateGlobal(new Vector3D(ToolsMath.getRandom(0, 1000), ToolsMath.getRandom(0,1000)));
							topLayer.addChild(plusButton);	
							
							break;
						default:
							break;
						}
						return true;
					}
				});
				
				this.getCanvas().addChild(topLayer);
	}
}
